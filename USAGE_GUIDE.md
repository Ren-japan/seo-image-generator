# SEO Image Generator 使い方ガイド

**アプリURL**: https://seo-image-generator.streamlit.app/

---

## 初回セットアップ

### 1. API Keyの設定
- サイドバー下部に「API Key: 未設定」と表示されている場合、Gemini API Keyを入力
- `.env`またはStreamlit CloudのSecretsに設定済みなら自動で「設定済み」になる

### 2. サイトを登録する
1. 左メニュー「設定」→「サイト設定」を開く
2. 「新規サイト登録」タブを選択
3. **サイト識別名**（英数字・ハイフン推奨。例：`djob-kango`）を入力
4. **ブランド名**（表示名。例：`dジョブ看護`）を入力
5. 「サイトを登録」をクリック

### 3. サイトのデザイン設定をする
登録後、サイドバーでサイトを選択 → 「既存サイト編集」タブで以下を設定。

#### カラーパレット（自動抽出 or 手動）
- **自動抽出**: 「カラーパレット自動抽出」を開き、サイトURLを入力 →「URLからカラーを抽出」→ 提案された配色を確認 →「この配色を適用」
- **手動設定**: 「カラーパレット」セクションで6色（メイン/サブ/アクセント/背景/テキスト/警告）をカラーピッカーで指定

#### イラストスタイル
- スタイル（フラット/手描き等）、線の太さ、人物造形、塗りスタイル、フォントを設定

#### 画像サイズ
- 用途別に幅×高さをピクセルで指定（例：メイン 1200×630）

#### 禁止事項・追加ノート
- 避けるべき要素やスタイル指示があればテキストで記入

最後に「設定を保存」をクリック。

### 4. 参照画像を登録する（推奨）
サイト設定ページ下部の「参照画像管理」セクション。

#### 記事内画像用タブ
- 生成したい画像のスタイルに近い既存画像をアップロード（最大5枚）
- アップロード後、Geminiが自動でデザイン分析を実行

#### MV用タブ
- MV（メインビジュアル）のスタイルリファレンスをアップロード（最大5枚）
- 必要に応じて「MVデザイン仕様書」に手動で具体的な仕様を記述（Gemini分析より優先される）

---

## 記事内画像を生成する

左メニュー「メイン」→「記事内画像生成」

### Step 1: 記事テキスト入力
1. **記事タイトル**を入力
2. **記事本文**を貼り付け（H2/H3の見出し構造があると精度UP）

### Step 2: 記事分析
「記事を分析」ボタンをクリック → AIが記事を読み取り、最適な画像案を3〜5個自動提案。

### Step 3: 画像案を選択
- 提案された画像案がカード形式で表示される
- 各カードにはレイアウトタイプ（分類型/比較型/フロー型等）と配置場所が表示
- チェックボックスで生成したい案を選択（複数可）

### Step 4: 生成設定
- **アスペクト比**: 16:9 など
- **画像解像度**: 2K 等
- **テイストプリセット**: 「おまかせ（自動選択）」または特定のスタイルを指定
- **レイアウトプリセット**: 「提案に従う（自動）」または手動指定
- 必要であれば「詳細編集」で各案の構成を個別に調整

### Step 5: 生成実行
- 「選択した○案を一括生成」で複数案を連続生成
- または個別の「案○を生成」ボタンで1案ずつ生成

### 生成後の操作
- **微修正**: 修正指示をテキスト入力（例：「背景をもっと薄い水色に」）→「微修正して再生成」
- **再生成**: 「同じ案で再生成」で別バリエーションを取得
- **後処理**: 余白トリミング / リサイズ / タイトル合成
- **ダウンロード**: 個別PNG or 全画像ZIP一括

---

## MV画像生成（準備中）

MV（メインビジュアル/アイキャッチ）画像の生成機能は現在準備中です。

---

## プリセット管理

左メニュー「設定」→「プリセット管理」

### テイスト（イラストスタイル）タブ
- カテゴリ別にスタイル参照画像を管理
- 各カテゴリの折りたたみを開き、参照画像をアップロード/削除
- 記事内画像生成時に「テイストプリセット」として選択可能

### レイアウト（構成パターン）タブ
- 分類型・比較型・フロー型・ピラミッド型・アイコン軽量型などのレイアウト参照画像を管理
- 記事内画像生成時に「レイアウトプリセット」として選択可能

---

## Tips

- **サイト切り替え**: サイドバーの「対象サイト」ドロップダウンでいつでも切替可能
- **参照画像があると安定**: 参照画像を登録しておくと、生成されるイラストのスタイルが大幅に安定する
- **見出し構造が重要**: H2/H3の見出しがある記事本文を貼ると、画像の配置場所提案の精度が上がる
- **手動編集OK**: AIの提案は全て編集可能。テキスト内容やレイアウト構成を自由に調整できる
